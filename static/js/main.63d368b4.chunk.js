(this["webpackJsonpproject-timeline"]=this["webpackJsonpproject-timeline"]||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"type":"project","label":"Timelines demo","notes":"The Project is the top-level directory and has as its children all Timelines.","timelines":{"Timeline A":{"label":"Timeline A","type":"timeline","notes":"These are the timeline notes","start":0,"end":50,"color":"crimson"},"Timeline B":{"label":"Timeline B","type":"timeline","notes":"These are the timeline notes","start":25,"end":75,"color":"cornflowerblue"},"Timeline C":{"label":"Timeline C","type":"timeline","notes":"These are the timeline notes","start":50,"end":100,"color":"gold"},"Timeline D":{"label":"Timeline D","type":"timeline","notes":"These are the timeline notes","start":12.5,"end":37.5,"color":"forestgreen"},"Timeline E":{"label":"Timeline E","type":"timeline","notes":"These are the timeline notes","start":37.5,"end":62.5,"color":"MediumVioletRed "},"Timeline F":{"label":"Timeline F","type":"timeline","notes":"These are the timeline notes","start":62.5,"end":87.5,"color":"orangered"}},"events":{"Event A1":{"label":"Event A1","type":"event","timelines":["Timeline A"],"notes":"These are the event notes."},"Event A2":{"label":"Event A2","type":"event","timelines":["Timeline A"],"notes":"These are the event notes."},"Event A3":{"label":"Event A3","type":"event","timelines":["Timeline A"],"notes":"These are the event notes."},"Event B1":{"label":"Event B1","type":"event","timelines":["Timeline B"],"notes":"These are the event notes."},"Event B2":{"label":"Event B2","type":"event","timelines":["Timeline B"],"notes":"These are the event notes."},"Event C":{"label":"Event C","type":"event","timelines":["Timeline C"],"notes":"These are the event notes."},"Event D":{"label":"Event D","type":"event","timelines":["Timeline D"],"notes":"These are the event notes."},"Event E":{"label":"Event E","type":"event","timelines":["Timeline E"],"notes":"These are the event notes."},"Event F":{"label":"Event F","type":"event","timelines":["Timeline F"],"notes":"These are the event notes."}}}')},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var l=n(0),i=n(5),a=n.n(i),s=n(15),c=n.n(s),o=(n(21),n(7)),r=n(8),h=n(1),d=n(10),u=n(9),m=(n(22),n(23),n(13)),b=n(2),v=n.n(b),j=n(6),O=n(4),f=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var l;return Object(o.a)(this,n),(l=t.call(this,e)).state={item:e.item},l.handleSelect=e.handleSelect,l.handleSelectTimeline=e.handleSelectTimeline,l}return Object(r.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({item:e.item})}},{key:"render",value:function(){var e=this,t=this.state.item,n=this.handleSelectTimeline;return Object(l.jsxs)("div",{className:"parent-label",children:[Object(l.jsxs)("span",{className:"link-button",onClick:function(){return e.handleSelect(null,null,"main")},children:[Object(l.jsx)(j.a,{icon:O.j}),"PROJECT"]}),Object(l.jsx)(j.a,{icon:O.b}),"event"===t.type&&Object(l.jsx)("span",{className:"link-button",timeline:t.timeline,style:{color:t.color},onClick:n,children:t.timeline}),"event"===t.type&&Object(l.jsx)(j.a,{icon:O.b})]})}}]),n}(a.a.Component),p=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var l;return Object(o.a)(this,n),(l=t.call(this,e)).state={list:e.list,label:e.label,showDetails:!0},l.handleSelect=e.handleSelect,l.handleSelectTimeline=l.handleSelectTimeline.bind(Object(h.a)(l)),l.handleSelectEvent=l.handleSelectEvent.bind(Object(h.a)(l)),l.toggleDetails=l.toggleDetails.bind(Object(h.a)(l)),l}return Object(r.a)(n,[{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.setState({list:e.list})}},{key:"handleSelectTimeline",value:function(e){var t;t=v()(e.target).closest(".list-item").attr("timelinelabel"),this.handleSelect(t,null,"main")}},{key:"handleSelectEvent",value:function(e){var t,n;t=v()(e.target).closest(".list-item").attr("timelinelabel"),n=v()(e.target).closest(".list-item").attr("eventlabel"),this.handleSelect(t,n,"main")}},{key:"toggleDetails",value:function(e){var t=this.state.showDetails;this.setState({showDetails:!t})}},{key:"render",value:function(){var e=this.state.showDetails,t=this.handleSelect,n=this.handleSelectTimeline,i=this.handleSelectEvent,a=this.toggleDetails;return Object(l.jsxs)("div",{className:"timeline-item-list",children:[Object(l.jsxs)("header",{className:"list-header",children:[Object(l.jsx)("div",{className:"list-item-count",children:"".concat(this.state.list.length," ").concat(this.state.label,"...")}),Object(l.jsxs)("button",{className:"list-detail-toggle",onClick:a,children:[Object(l.jsx)(j.a,{icon:e?O.f:O.g})," Show details?"]})]}),Object(l.jsx)("ul",{className:"list-body",children:this.state.list.map((function(a,s){return Object(l.jsxs)("li",{className:"list-item",tabIndex:"0",timelinelabel:a.timeline,eventlabel:a.event,children:[Object(l.jsxs)("div",{className:"item-summary-cell",style:{borderLeftColor:"timeline"===a.type?a.color:"transparent"},children:[Object(l.jsx)(f,{item:a,handleSelect:t,handleSelectTimeline:n}),Object(l.jsx)("div",{className:"item-label link-button",onClick:"timeline"===a.type?n:i,children:a.label}),e&&Object(l.jsx)("div",{className:"item-notes",children:a.blurb})]}),Object(l.jsx)("div",{children:"timeline"===a.type&&Object(l.jsxs)("div",{children:[a.start," \u2013 ",a.end]})})]},s)}))})]})}}]),n}(a.a.Component);function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e,t){return 0},i=[];return Object.values(e.timelines).forEach((function(l){t(l)&&i.push(y(l)),Object.values(e.events).filter((function(e){return e.timelines.indexOf(l.label)>=0})).forEach((function(e){n(e)&&i.push(g(e,l))}))})),i.sort(l),i}function y(e){return{type:"timeline",timeline:e.label,event:void 0,label:e.label,blurb:e.notes,start:e.start,end:e.end,obj:e,color:e.color}}function g(e,t){return{type:"event",timeline:t.label,event:e.label,label:e.label,blurb:e.notes,obj:e,color:t.color}}var S=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var l;return Object(o.a)(this,n),(l=t.call(this,e)).state={source:e.source,selectedTimeline:e.selectedObject.timeline,selectedEvent:e.selectedObject.event,hasMounted:!1},l.handleSelect=e.handleSelect,l.handleGoToProjectRoot=l.handleGoToProjectRoot.bind(Object(h.a)(l)),l.handleSelectTimeline=l.handleSelectTimeline.bind(Object(h.a)(l)),l.handleSelectEvent=l.handleSelectEvent.bind(Object(h.a)(l)),l}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setState({hasMounted:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({source:e.source,selectedTimeline:e.selectedObject.timeline,selectedEvent:e.selectedObject.event})}},{key:"handleGoToProjectRoot",value:function(e){this.handleSelect(null)}},{key:"handleSelectTimeline",value:function(e){var t=v()(e.target).closest("[timeline]").attr("timeline");this.handleSelect(t)}},{key:"handleSelectEvent",value:function(e){var t="";t=v()(e.target).hasClass("event-select")?v()(e.target).attr("value"):v()(e.target).closest(".list-item").attr("value"),this.handleSelect(this.state.selectedTimeline.label,t)}},{key:"render",value:function(){return this.state.hasMounted?this.fullRender():this.renderLoad()}},{key:"renderLoad",value:function(){return Object(l.jsx)("div",{})}},{key:"fullRender",value:function(){var e,t,n,i,a=this.state,s=a.selectedTimeline,c=a.selectedEvent,o=this.handleSelect,r=this.handleSelectTimeline,h=this.getAllChildren,d=null!==(e=null!==(t=this.state.selectedEvent)&&void 0!==t?t:this.state.selectedTimeline)&&void 0!==e?e:this.state.source;return null!==s&&(d.timeline=s.label),Object(l.jsxs)("div",{className:"main-overlay",children:["project"!==d.type&&Object(l.jsx)(f,{item:(n=d,i=s,"timeline"===n.type?y(n):g(n,i)),handleSelect:o,handleSelectTimeline:r}),Object(l.jsxs)("div",{className:"notes-section",children:[Object(l.jsx)("div",{className:"selected-label",children:d.label}),Object(l.jsx)("div",{className:"selected-notes",children:d.notes})]}),Object(l.jsx)("div",{className:"hr"}),null===c&&Object(l.jsx)(p,{list:h,label:"children",handleSelect:o})]})}},{key:"getAllChildren",get:function(){var e=this.state,t=e.selectedTimeline,n=e.selectedEvent,l=function(e,t){return e>t};return console.log(t),null===t?x(this.state.source,(function(){return!0}),(function(){return!1}),l):null!==t&&null===n?x(this.state.source,(function(){return!1}),(function(e){return e.timelines.indexOf(t.label)>=0}),l):void 0}}]),n}(a.a.Component),T=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var l;return Object(o.a)(this,n),(l=t.call(this,e)).state={source:e.source,searchString:"",typeFilters:["timeline","event"],hasMounted:!1},l.handleSelect=e.handleSelect,l.handleSelectTimeline=l.handleSelectTimeline.bind(Object(h.a)(l)),l.handleSelectEvent=l.handleSelectEvent.bind(Object(h.a)(l)),l.handleSearch=l.handleSearch.bind(Object(h.a)(l)),l.handleFilter=l.handleFilter.bind(Object(h.a)(l)),l}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setState({hasMounted:!0})}},{key:"componentWillReceiveProps",value:function(e){this.setState({source:e.source})}},{key:"handleSelectTimeline",value:function(e){var t;t=v()(e.target).closest(".search-results-item").attr("timelinelabel"),this.handleSelect(t,null,"main")}},{key:"handleSelectEvent",value:function(e){var t,n;t=v()(e.target).closest(".search-results-item").attr("timelinelabel"),n=v()(e.target).closest(".search-results-item").attr("eventlabel"),this.handleSelect(t,n,"main")}},{key:"handleSearch",value:function(e){this.setState({searchString:e.target.value})}},{key:"handleFilter",value:function(e){var t=e.target.value,n=["timeline","event"];"Timelines only"===t&&(n=["timeline"]),"Events only"===t&&(n=["event"]),this.setState({typeFilters:n}),this.forceUpdate()}},{key:"render",value:function(){return this.state.hasMounted?this.fullRender():this.renderLoad()}},{key:"renderLoad",value:function(){return Object(l.jsx)("div",{})}},{key:"fullRender",value:function(){var e=this.state,t=e.searchString,n=e.typeFilters,i=this.handleSelect,a=this.handleSearch,s=this.handleFilter,c=this.getAllItems.filter((function(e){return n.indexOf(e.type)>=0}));return Object(l.jsxs)("div",{className:"search-overlay",children:[Object(l.jsx)("datalist",{id:"results",children:c.map((function(e,t){return Object(l.jsx)("option",{value:e.label},t)}))}),Object(l.jsxs)("div",{className:"search-controls",children:[Object(l.jsx)("input",{className:"search-field",name:"search-field",list:"results",value:t,placeholder:"Search...",onChange:a}),Object(l.jsxs)("select",{className:"search-filter",onChange:s,children:[Object(l.jsx)("option",{value:"Timelines & Events",children:"Timelines & Events"}),Object(l.jsx)("option",{value:"Timelines only",children:"Timelines only"}),Object(l.jsx)("option",{value:"Events only",children:"Events only"})]})]}),Object(l.jsx)(p,{list:c,handleSelect:i,label:"results"})]})}},{key:"getAllItems",get:function(){var e=this.state.searchString.toLowerCase();return x(this.state.source,(function(t){return t.label.toLowerCase().indexOf(e)>=0||t.notes.toLowerCase().indexOf(e)>=0}),(function(t){return t.timelines.join("").toLowerCase().indexOf(e)>=0||t.label.toLowerCase().indexOf(e)>=0||t.notes.toLowerCase().indexOf(e)>=0}),(function(e,t){return e.obj.label>t.obj.label||"timeline"===t.type&&"event"===e.type?1:t.obj.label>e.obj.label||"timeline"===e.type&&"event"===t.type?-1:0}))}}]),n}(a.a.Component),k=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var l;Object(o.a)(this,n),(l=t.call(this,e)).handleZoomIn=function(){return l.handleZoom(.1)},l.handleZoomOut=function(){return l.handleZoom(-.1)},l.toggleMenu=function(){return l.setOverlay("none"===l.state.overlay?"menu":"none")},l.openNavigation=function(){return l.setOverlay("main")},l.openSearch=function(){return l.setOverlay("search")},l.toggleFullscreen=function(){return l.setState({fullscreen:!l.state.fullscreen})};var i=e.source;return Object.values(i.events).forEach((function(e,t){var n,l;e.timelines.map((function(e){return i.timelines[e]})).forEach((function(e,t){return 0==t?(n=e.start,void(l=e.end)):e.start<n?n=e.start:e.start>l?l=e.start:void 0})),e.posn=Math.round(Math.random()*(l-n)+n)})),l.state={source:i,selectedTimeline:null,selectedEvent:null,overlay:"none",fullscreen:!1,disabledArray:Array(e.source.length).fill(!1),trackPosn:-1,scrollPosn:0,zoom:1,hasMounted:!1,mouseDown:null,readyForTrack:!0,minWidth:e.minWidth,width:e.width,maxWidth:e.maxWidth,minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight,aspectRatio:e.aspectRatio},l.isTracked=l.isTracked.bind(Object(h.a)(l)),l.handleSelect=l.handleSelect.bind(Object(h.a)(l)),l.handleSelectTimeline=l.handleSelectTimeline.bind(Object(h.a)(l)),l.handleSelectEvent=l.handleSelectEvent.bind(Object(h.a)(l)),l.handleToggleLine=l.handleToggleLine.bind(Object(h.a)(l)),l.handleTrack=l.handleTrack.bind(Object(h.a)(l)),l.handleScroll=l.handleScroll.bind(Object(h.a)(l)),l.handleZoomIn=l.handleZoomIn.bind(Object(h.a)(l)),l.handleZoomOut=l.handleZoomOut.bind(Object(h.a)(l)),l.handleDragToZoom=l.handleDragToZoom.bind(Object(h.a)(l)),l.handleClearState=l.handleClearState.bind(Object(h.a)(l)),l.toggleFullscreen=l.toggleFullscreen.bind(Object(h.a)(l)),l.handleKeyPress=l.handleKeyPress.bind(Object(h.a)(l)),l.handleSaveToFile=l.handleSaveToFile.bind(Object(h.a)(l)),l.handleCopyAsJSON=l.handleCopyAsJSON.bind(Object(h.a)(l)),l}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(){var t=e.state.resizeTicker;e.setState({resizeTicker:(null!==t&&void 0!==t?t:0)+1})})),this.setState({hasMounted:!0})}},{key:"posnToCoord",value:function(e){var t=v()("ul.timeline > .timeline-item > .line-container");if(void 0===t.position())return 0;var n=v()(".timeline"),l=this.state,i=l.scrollPosn,a=l.zoom,s=this.boundsAndLength.totalLength;return t.position().left-n.position().left+parseInt(t.css("padding-left"))-2+t.width()*((e-i)/(s/a))}},{key:"coordToPosn",value:function(e){var t=v()(".timeline"),n=v()(".timeline > .timeline-item > .line-container > .line-wrapper"),l=this.state,i=l.zoom,a=l.scrollPosn,s=this.boundsAndLength,c=s.earliestDate,o=s.latestDate,r=s.totalLength,h=n[0].getBoundingClientRect().left,d=t.position().left,u=n.width();return Math.max(c,Math.min(o,r/Math.pow(i,2)*(e-(h-d))/(u/i)+Math.max(c,a)))}},{key:"isTracked",value:function(e){var t=this.state.trackPosn;return!(e.start>t||e.end<t)||-1===t}},{key:"handleSelect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.state.overlay,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};this.setState({selectedTimeline:e,selectedEvent:t,overlay:n},l())}},{key:"handleSelectTimeline",value:function(e){var t=v()(e.target).closest(".timeline-item").attr("label");this.handleSelect(t,null,"main")}},{key:"handleSelectEvent",value:function(e){var t=v()(e.target).closest(".timeline-item").attr("label"),n=v()(e.target).attr("label");this.handleSelect(t,n,"main")}},{key:"handleZoom",value:function(e){var t=this.state,n=t.zoom,l=t.scrollPosn,i=this.boundsAndLength.totalLength,a=Math.max(1,Math.min(2,n+e));this.setState({zoom:a,scrollPosn:Math.max(0,Math.min(i-i/a,l*a/n))})}},{key:"handleDragToZoom",value:function(e){e.movementX>0&&this.handleZoomIn(),e.movementX<0&&this.handleZoomOut()}},{key:"handleScroll",value:function(e){if(e.altKey||e.shiftKey){if(e.altKey)return e.deltaY>0?this.handleZoomOut(e):this.handleZoomIn(e);if(e.shiftKey){var t=this.state,n=t.scrollPosn,l=t.zoom,i=this.boundsAndLength,a=i.earliestDate,s=i.latestDate,c=i.totalLength,o=(e.deltaY<0?-1:1)*c/20;this.setState({scrollPosn:Math.min(s-c/l,Math.max(a,n+o))})}}}},{key:"snapToEvent",value:function(e){var t=v()(e.target).closest(".timeline-item").attr("label"),n=v()(e.target).attr("label"),l=v()(e.target).attr("posn");this.setState({trackPosn:l},this.handleSelect(t,n))}},{key:"handleTrack",value:function(e){if(!(v()(e.target).is(".timeline-bottom *")||["click","mousedown","mousemove","touchmove"].indexOf(e.type)<0||"touchmove"===e.type&&!this.state.readyForTrack||1!==e.buttons)){if(v()(e.target).hasClass("line-event"))return this.snapToEvent(e);var t="touchmove"===e.type?e.touches[0].clientX:e.clientX,n=this.coordToPosn(t);this.setState({trackPosn:n,readyForTrack:!1},(function(){var e=this;setTimeout((function(){e.setState({readyForTrack:!0})}),0)}))}}},{key:"handleToggleLine",value:function(e){var t=this.state.disabledArray.concat([]);Object.values(this.state.source.timelines).forEach((function(n,l){n.label===v()(e.target).closest(".timeline-item").attr("label")&&(t[l]=!t[l])})),this.setState({disabledArray:t})}},{key:"handleClearState",value:function(){"none"!==this.state.overlay?this.closeOverlay():this.setState({trackPosn:-1,selectedTimeline:null,selectedEvent:null,zoom:1})}},{key:"handleKeyPress",value:function(e){"Escape"===e.key&&(this.state.fullscreen?this.toggleFullscreen():this.handleClearState())}},{key:"setOverlay",value:function(e){this.setState({overlay:e})}},{key:"handleSaveToFile",value:function(){var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(this.state.source))),e.setAttribute("download","timeline.json"),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)}},{key:"handleCopyAsJSON",value:function(){var e=document.createElement("input");e.setAttribute("type","text"),e.value=JSON.stringify(this.state.source),document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(e)}},{key:"render",value:function(){return this.state.hasMounted?this.fullRender():this.renderLoad()}},{key:"renderLoad",value:function(){return Object(l.jsx)("div",{className:"timeline-container",children:Object(l.jsx)("div",{className:"load-spinner"})})}},{key:"fullRender",value:function(){var e,t,n=this,i=this.state,a=i.source,s=i.selectedTimeline,c=i.selectedEvent,o=i.overlay,r=i.disabledArray,h=i.mouseDown,d=i.zoom,u=i.scrollPosn,m=i.trackPosn,b={minWidth:this.state.minWidth,width:this.state.width,maxWidth:this.state.maxWidth,minHeight:this.state.minHeight,height:this.state.height,maxHeight:this.state.maxHeight,aspectRatio:this.state.aspectRatio},f=this.boundsAndLength.earliestDate+this.state.scrollPosn,p=this.boundsAndLength.totalLength,x=this.selectedObject,y=this.posnToCoord(this.state.trackPosn),g=this.allUniqueDates,k=this.isTracked,N=this.handleSelect,E=this.handleSelectTimeline,C=this.handleScroll,M=this.handleDragToZoom,D=this.handleToggleLine,w=this.handleTrack,A=this.handleClearState,L=this.handleKeyPress,P=this.toggleFullscreen,F=this.toggleMenu,R=this.openNavigation,I=this.openSearch,Z=this.handleSaveToFile,z=this.handleCopyAsJSON,W=null!==(e=null===(t=v()("ul.timeline > .timeline-item > .line-container").position())||void 0===t?void 0:t.left)&&void 0!==e?e:0;return Object(l.jsxs)("div",{className:"timeline-container",theme:"light",style:b,tabIndex:"0",fullscreen:!0===this.state.fullscreen?"fullscreen":void 0,onMouseDown:function(e){return n.setState({mouseDown:e.target})},onMouseUp:function(e){n.setState({mouseDown:null})},onKeyDown:L,children:[Object(l.jsxs)("header",{className:"timeline-container-header",children:[Object(l.jsxs)("button",{className:"menu-button",onClick:F,children:[Object(l.jsx)(j.a,{icon:"none"===this.state.overlay?O.a:O.l}),Object(l.jsx)("span",{children:"none"===this.state.overlay?"Menu":"Close"})]}),Object(l.jsx)("div",{className:"project-title",children:"Project Timelines"}),Object(l.jsxs)("button",{className:"expand-collapse-button",onClick:P,children:[Object(l.jsx)(j.a,{icon:!0===this.state.fullscreen?O.d:O.e}),Object(l.jsx)("span",{children:!0===this.state.fullscreen?"Collapse":"Expand"})]})]}),Object(l.jsxs)("div",{className:"timeline-container-body",onMouseMove:w,children:[Object(l.jsxs)("div",{className:"overlay-layer",expanded:"none"!==o?"expanded":void 0,children:["none"!==o&&Object(l.jsxs)("ul",{className:"menu-overlay",children:[Object(l.jsxs)("li",{className:"search-button",tabIndex:"none"===o?"-1":"0",isopen:"search"===o?"true":void 0,onClick:I,children:[Object(l.jsx)(j.a,{icon:O.k}),Object(l.jsx)("span",{children:"Search"})]}),Object(l.jsxs)("li",{className:"open-navigation",tabIndex:"none"===o?"-1":"0",isopen:"main"===o?"true":void 0,onClick:R,children:[Object(l.jsx)(j.a,{icon:O.i}),Object(l.jsx)("span",{children:"Navigation view"})]}),Object(l.jsxs)("li",{className:"save-button",tabIndex:"none"===o?"-1":"0",onClick:Z,children:[Object(l.jsx)(j.a,{icon:O.h}),Object(l.jsx)("span",{children:"Download as file"})]}),Object(l.jsxs)("li",{className:"copy-button",tabIndex:"none"===o?"-1":"0",onClick:z,children:[Object(l.jsx)(j.a,{icon:O.c}),Object(l.jsx)("span",{children:"Copy as JSON"})]})]}),"main"===o&&Object(l.jsx)(S,{source:this.state.source,selectedObject:x,handleSelect:N}),"search"===o&&Object(l.jsx)(T,{source:this.state.source,handleSelect:N})]}),Object(l.jsxs)("ul",{className:"timeline",dragging:null!==h?"dragging":void 0,onWheel:C,children:[Object(l.jsxs)("li",{className:"timeline-item ruler-container",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{className:"ruler",children:Object(l.jsx)("div",{className:"ruler-wrapper",children:g.map((function(e,t){return e>=u&&Object(l.jsx)("div",{className:"rule",posn:e,style:{left:100*(e-f)/(p/d)+"%"}},t)}))})})]}),Object.values(a.timelines).map((function(e,t){return Object(l.jsxs)("li",{className:"timeline-item",label:e.label,disabled:r[t]?"disabled":void 0,tracked:k(e)?"tracked":void 0,children:[Object(l.jsxs)("div",{className:"line-label",title:e.label,style:{color:e.color},children:[Object(l.jsx)("button",{className:"line-toggle",tabIndex:"none"===o?"0":"-1",onClick:D,children:Object(l.jsx)(j.a,{icon:r[t]?O.g:O.f})}),Object(l.jsx)("button",{className:"line-name",tabIndex:"none"===o?"0":"-1",onClick:E,children:Object(l.jsx)("span",{children:e.label})})]}),Object(l.jsx)("div",{className:"line-container",children:Object(l.jsx)("div",{className:"line-wrapper",children:Object(l.jsxs)("svg",{children:[(e.start>=u||e.end>=u)&&Object(l.jsx)("line",{className:"line-main",stroke:e.color,y1:"50%",y2:"50%",x1:Math.max(0,100*(e.start-f)/(p/d))+"%",x2:Math.max(0,100*(e.start-f)/(p/d))+Math.max(0,100*(e.end-Math.max(e.start,u))/(p/d))+"%"}),e.start>=u&&Object(l.jsx)("line",{className:"line-end",stroke:e.color,y1:"35%",y2:"65%",x1:Math.max(0,100*(e.start-f)/(p/d))+"%",x2:Math.max(0,100*(e.start-f)/(p/d))+"%"}),e.end>=u&&Object(l.jsx)("line",{className:"line-end",stroke:e.color,y1:"35%",y2:"65%",x1:Math.max(0,100*(e.start-f)/(p/d))+Math.max(0,100*(e.end-Math.max(e.start,u))/(p/d))+"%",x2:Math.max(0,100*(e.start-f)/(p/d))+Math.max(0,100*(e.end-Math.max(e.start,u))/(p/d))+"%"}),Object.values(a.events).filter((function(t){return t.timelines.indexOf(e.label)>=0})).map((function(i,a){return i.posn>=u&&Object(l.jsxs)("g",{children:[Object(l.jsx)("circle",{className:"line-event",posn:i.posn,label:i.label,tabIndex:!r[t]&&k(e)&&"none"===o?"0":void 0,stroke:e.color,cy:"50%",cx:100*(i.posn-f)/(p/d)+"%",onMouseOver:function(t){return!(e.label===s&&i.label===c)&&t.target.setAttribute("r","0.75em")},onMouseOut:function(t){return!(e.label===s&&i.label===c)&&t.target.setAttribute("r","0.5em")},onClick:n.handleSelectEvent}),Object(l.jsx)("line",{y1:"50%",y2:"0%",x1:100*(i.posn-f)/(p/d)+"%",x2:100*(i.posn-f)/(p/d)+"%"}),Object(l.jsx)("rect",{fill:"white",height:"1.5em",y:"-0.75em",rx:"0.25em",ry:"0.25em",width:"[".concat(i.posn,"] ").concat(i.label).length+"ch",x:"calc("+100*(i.posn-f)/(p/d)+"% - "+"[".concat(i.posn,"] ").concat(i.label).length/2+"ch)"}),Object(l.jsx)("text",{x:100*(i.posn-f)/(p/d)+"%",dominantBaseline:"middle",textAnchor:"middle",children:"[".concat(i.posn,"] ").concat(i.label)})]},a)}))]})})})]},t)}))]}),m>=u&&Object(l.jsx)("div",{className:"timeline-tracker",posn:m,style:{left:y+"px"}}),Object(l.jsxs)("div",{className:"timeline-bottom",children:[Object(l.jsx)("div",{className:"timeline-scrollbar",children:Object(l.jsx)("div",{className:"scrollbar-thumb",style:{left:100*u/p+"%",width:"calc("+100/d+"% - "+W+"px)",marginLeft:W,opacity:1===d?"0":"1"}})}),Object(l.jsxs)("div",{className:"timeline-controls",children:[Object(l.jsx)("div",{}),Object(l.jsx)("div",{className:"zoom-info",title:"Click and drag or use Alt+Scroll to zoom timelines",children:Object(l.jsxs)("span",{zoom:Math.round(100*d),onMouseMove:function(e){return n.state.mouseDown&&M(e)},children:[Object(l.jsx)(j.a,{icon:O.k}),Object(l.jsx)("span",{children:Math.floor(100*d)+"%"})]})}),m>=0&&Object(l.jsxs)("button",{className:"clear-button",onClick:A,children:[Object(l.jsx)(j.a,{icon:O.l}),Object(l.jsx)("span",{children:"Clear selected"})]}),-1===m&&Object(l.jsx)("div",{})]})]})]})]})}},{key:"selectedObject",get:function(){var e={timeline:null,event:null},t=this.state,n=t.source,l=t.selectedTimeline,i=t.selectedEvent;return null===l?e:(e.timeline=n.timelines[l],null===i||(e.event=n.events[i]),e)}},{key:"allUniqueDates",get:function(){var e=[];return Object.values(this.state.source.timelines).forEach((function(t){t.start in e||e.push(t.start),t.end in e||e.push(t.end)})),e.sort((function(e,t){return e-t})),e}},{key:"boundsAndLength",get:function(){var e=void 0,t=void 0;return Object.values(this.state.source.timelines).forEach((function(n){void 0===e?(e=n.start,t=n.end):(n.start<e&&(e=n.start),n.end>t&&(t=n.end))})),{earliestDate:e,latestDate:t,totalLength:t-e}}}]),n}(a.a.Component),N=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var l;return Object(o.a)(this,n),(l=t.call(this,e)).state={source:m},l.handleLoadFile=l.handleLoadFile.bind(Object(h.a)(l)),l}return Object(r.a)(n,[{key:"componentDidMount",value:function(){}},{key:"handleLoadFile",value:function(e){this.setState({lines:JSON.parse(e)})}},{key:"render",value:function(){return null!==this.state.lines?Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(k,{source:m})}):Object(l.jsx)("div",{className:"App"})}}]),n}(a.a.Component),E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,31)).then((function(t){var n=t.getCLS,l=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),l(e),i(e),a(e),s(e)}))};c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(N,{})}),document.getElementById("root")),E()}},[[29,1,2]]]);
//# sourceMappingURL=main.63d368b4.chunk.js.map